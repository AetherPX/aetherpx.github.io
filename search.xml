<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Arch Linux配置备忘录</title>
    <url>/2025/06/29/Arch%20Linux%E9%85%8D%E7%BD%AE%E5%A4%87%E5%BF%98%E5%BD%95/</url>
    <content><![CDATA[<p><strong>以下内容均可在ArchWiki找到，本人仅作针对自己使用整理</strong></p>
<h1 id="livecd联网"><a href="#livecd联网" class="headerlink" title="livecd联网"></a>livecd联网</h1><p>先用<strong>命令 ip link</strong>查看网络接口：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ip link</span><br></pre></td></tr></table></figure>
<p>查看到我的机器的无线网络接口是<strong>wlan0</strong>(不同的机器可能名字不同)，这里以我的无线网络接口wlan0为例。</p>
<p>默认是关闭的状态，需要先开启它，而开启它之前还需要先激活它(即取消禁用，我这台机器默认是<strong>blockeded</strong>，禁用的)。因此使用以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rfkill unblock wifi    #取消禁用wifi设备</span><br><span class="line">ip link set wlan0 up #开启wlan0</span><br><span class="line">iwctl #进入交互式提示符（interactive prompt），配置并连接到互联网。</span><br><span class="line">station wlan0 scan</span><br><span class="line">station wlan0 get-networks</span><br><span class="line">station wlan0 connect &lt;network name&gt; #然后会让你输入密码</span><br><span class="line">station wlan0 show</span><br><span class="line">exit　　# 回到命令行</span><br></pre></td></tr></table></figure>
<p><strong>尝试ping百度(<a href="http://www.baidu.com)可以ping通,已经连接上了互联网./">www.baidu.com)可以ping通，已经连接上了互联网。</a></strong></p>
<h1 id="SDDM"><a href="#SDDM" class="headerlink" title="SDDM"></a>SDDM</h1><h2 id="设置微风主题hidpi"><a href="#设置微风主题hidpi" class="headerlink" title="设置微风主题hidpi"></a>设置微风主题hidpi</h2><p><strong>编辑</strong>&#x2F;etc&#x2F;sddm.conf.d&#x2F;<br>在<strong>General</strong>补充</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[General]</span><br><span class="line"></span><br><span class="line">GreeterEnvironment=QT_SCREEN_SCALE_FACTORS=1.5,QT_FONT_DPI=144</span><br></pre></td></tr></table></figure>
<h2 id="显示中文"><a href="#显示中文" class="headerlink" title="显示中文"></a>显示中文</h2><p><strong>在 [service] 节中设置环境：</strong></p>
<p>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;sddm.service</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=LANG=zh_CN.UTF-8</span><br></pre></td></tr></table></figure>

<h1 id="kde密码库"><a href="#kde密码库" class="headerlink" title="kde密码库"></a>kde密码库</h1><p><strong>安装，并设置密码为空以便自动登录解锁密码库连接wifi</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S kwalletmanager</span><br></pre></td></tr></table></figure>

<h1 id="设置中文"><a href="#设置中文" class="headerlink" title="设置中文"></a>设置中文</h1><p><strong>首先设置一个英文的全局 locale。这并不是必须的，只是为了防止 TTY 中出现豆腐块：</strong></p>
<p>&#x2F;etc&#x2F;locale.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure>

<h2 id="安装中文字体"><a href="#安装中文字体" class="headerlink" title="安装中文字体"></a>安装中文字体</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S ttf-roboto noto-fonts noto-fonts-cjk adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts ttf-dejavu</span><br></pre></td></tr></table></figure>
<p><strong>修改</strong><br>~&#x2F;.config&#x2F;fontconfig&#x2F;fonts.conf 或 &#x2F;etc&#x2F;fonts&#x2F;local.conf<br><strong>改为</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt;</span><br><span class="line">&lt;fontconfig&gt;</span><br><span class="line">  &lt;its:rules xmlns:its=&quot;http://www.w3.org/2005/11/its&quot; version=&quot;1.0&quot;&gt;</span><br><span class="line">    &lt;its:translateRule</span><br><span class="line">      translate=&quot;no&quot;</span><br><span class="line">      selector=&quot;/fontconfig/*[not(self::description)]&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/its:rules&gt;</span><br><span class="line"></span><br><span class="line">  &lt;description&gt;Android Font Config&lt;/description&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- Font directory list --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;dir&gt;/usr/share/fonts&lt;/dir&gt;</span><br><span class="line">  &lt;dir&gt;/usr/local/share/fonts&lt;/dir&gt;</span><br><span class="line">  &lt;dir prefix=&quot;xdg&quot;&gt;fonts&lt;/dir&gt;</span><br><span class="line">  &lt;!-- the following element will be removed in the future --&gt;</span><br><span class="line">  &lt;dir&gt;~/.fonts&lt;/dir&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 关闭内嵌点阵字体 --&gt;</span><br><span class="line">  &lt;match target=&quot;font&quot;&gt;</span><br><span class="line">    &lt;edit name=&quot;embeddedbitmap&quot; mode=&quot;assign&quot;&gt;</span><br><span class="line">      &lt;bool&gt;false&lt;/bool&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 英文默认字体使用 Roboto 和 Noto Serif ,终端使用 DejaVu Sans Mono. --&gt;</span><br><span class="line">  &lt;match&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;serif&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;strong&quot;&gt;</span><br><span class="line">      &lt;string&gt;Noto Serif&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;sans-serif&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;strong&quot;&gt;</span><br><span class="line">      &lt;string&gt;Roboto&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;monospace&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;strong&quot;&gt;</span><br><span class="line">      &lt;string&gt;DejaVu Sans Mono&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 中文默认字体使用思源黑体和思源宋体,不使用　Noto Sans CJK SC 是因为这个字体会在特定情况下显示片假字. --&gt;</span><br><span class="line">  &lt;match&gt;</span><br><span class="line">    &lt;test name=&quot;lang&quot; compare=&quot;contains&quot;&gt;</span><br><span class="line">      &lt;string&gt;zh&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;test name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;serif&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Serif CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match&gt;</span><br><span class="line">    &lt;test name=&quot;lang&quot; compare=&quot;contains&quot;&gt;</span><br><span class="line">      &lt;string&gt;zh&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;test name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;sans-serif&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match&gt;</span><br><span class="line">    &lt;test name=&quot;lang&quot; compare=&quot;contains&quot;&gt;</span><br><span class="line">      &lt;string&gt;zh&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;test name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;monospace&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot;&gt;</span><br><span class="line">      &lt;string&gt;Noto Sans Mono CJK SC&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- Windows &amp; Linux Chinese fonts. --&gt;</span><br><span class="line">  &lt;!-- 把所有常见的中文字体映射到思源黑体和思源宋体，这样当这些字体未安装时会使用思源黑体和思源宋体.</span><br><span class="line">解决特定程序指定使用某字体，并且在字体不存在情况下不会使用fallback字体导致中文显示不正常的情况. --&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;WenQuanYi Zen Hei&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;WenQuanYi Micro Hei&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;WenQuanYi Micro Hei Light&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;Microsoft YaHei&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;SimHei&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;SimSun&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Serif CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;SimSun-18030&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Serif CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- Load local system customization file --&gt;</span><br><span class="line">  &lt;include ignore_missing=&quot;yes&quot;&gt;conf.d&lt;/include&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- Font cache directory list --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;cachedir&gt;/var/cache/fontconfig&lt;/cachedir&gt;</span><br><span class="line">  &lt;cachedir prefix=&quot;xdg&quot;&gt;fontconfig&lt;/cachedir&gt;</span><br><span class="line">  &lt;!-- the following element will be removed in the future --&gt;</span><br><span class="line">  &lt;cachedir&gt;~/.fontconfig&lt;/cachedir&gt;</span><br><span class="line"></span><br><span class="line">  &lt;config&gt;</span><br><span class="line">    &lt;!-- Rescan configuration every 30 seconds when FcFontSetList is called --&gt;</span><br><span class="line">    &lt;rescan&gt;</span><br><span class="line">      &lt;int&gt;30&lt;/int&gt;</span><br><span class="line">    &lt;/rescan&gt;</span><br><span class="line">  &lt;/config&gt;</span><br><span class="line">&lt;/fontconfig&gt;</span><br></pre></td></tr></table></figure>

<h2 id="中文输入法"><a href="#中文输入法" class="headerlink" title="中文输入法"></a>中文输入法</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S fcitx5-im fcitx5-chinese-addons fcitx5-pinyin-zhwiki</span><br></pre></td></tr></table></figure>
<p><strong>环境变量&#x2F;etc&#x2F;environment添加</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">XMODIFIERS=@im=fcitx</span><br></pre></td></tr></table></figure>
<h2 id="软件中文"><a href="#软件中文" class="headerlink" title="软件中文"></a>软件中文</h2><h3 id="firefox"><a href="#firefox" class="headerlink" title="firefox"></a>firefox</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S firefox firefox-i18n-zh-cn</span><br></pre></td></tr></table></figure>
<h3 id="libreoffice"><a href="#libreoffice" class="headerlink" title="libreoffice"></a>libreoffice</h3><p><strong>fresh版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S libreoffice-fresh-zh-cn libreoffice-fresh</span><br></pre></td></tr></table></figure>
<p><strong>still版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S libreoffice-still-zh-cn libreoffice-still</span><br></pre></td></tr></table></figure>

<h1 id="配置蓝牙"><a href="#配置蓝牙" class="headerlink" title="配置蓝牙"></a>配置蓝牙</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S bluez bluez-utils bluez-obex bluedevil</span><br><span class="line">sudo systemctl enable bluetooth</span><br></pre></td></tr></table></figure>

<h1 id="电源管理方案"><a href="#电源管理方案" class="headerlink" title="电源管理方案"></a>电源管理方案</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S power-profiles-daemon</span><br></pre></td></tr></table></figure>

<h1 id="plymouth开机动画"><a href="#plymouth开机动画" class="headerlink" title="plymouth开机动画"></a>plymouth开机动画</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S plymouth</span><br><span class="line">sudo nano /etc/mkinitcpio.conf</span><br></pre></td></tr></table></figure>
<p><strong>HOOKS</strong>中 <strong>base udev</strong> 后添加plymouth <strong>(视情况)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo mkinitcpio -P</span><br></pre></td></tr></table></figure>
<p><strong>以下视情况</strong>，文件名不一定为arch.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo nano /boot/loader/entries/arch.conf</span><br></pre></td></tr></table></figure>
<p>将这些参数附加到选项行:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">splash quiet loglevel=3</span><br></pre></td></tr></table></figure>
<p><strong>例如</strong><br>options cryptdevice&#x3D;PARTUUID&#x3D;xxxxxxxxx:root root&#x3D;&#x2F;dev&#x2F;mapper&#x2F;root zswap.enabled&#x3D;0 rw rootfstype&#x3D;ext4 <strong>splash quiet loglevel&#x3D;3</strong></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客搭建备忘录</title>
    <url>/2025/02/22/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%A4%87%E5%BF%98%E5%BD%95/</url>
    <content><![CDATA[<p><strong>注：以下默认使用<a href="https://butterfly.js.org/">Butterfly主题</a></strong></p>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><p><strong>命令均需在博客根目录下执行</strong></p>
<h2 id="本地预览"><a href="#本地预览" class="headerlink" title="本地预览"></a>本地预览</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean&amp;&amp;hexo g&amp;&amp;hexo s</span><br></pre></td></tr></table></figure>
<h2 id="部署发布"><a href="#部署发布" class="headerlink" title="部署发布"></a>部署发布</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean&amp;&amp;hexo g&amp;&amp;hexo d</span><br></pre></td></tr></table></figure>
<h2 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new “标题”</span><br></pre></td></tr></table></figure>
<h2 id="更新主题"><a href="#更新主题" class="headerlink" title="更新主题"></a>更新主题</h2><p><strong>在主题相应目录下执行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>
<h2 id="查看已安装的Hexo插件"><a href="#查看已安装的Hexo插件" class="headerlink" title="查看已安装的Hexo插件"></a>查看已安装的Hexo插件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm ls --depth=0</span><br></pre></td></tr></table></figure>

<h1 id="易错点"><a href="#易错点" class="headerlink" title="易错点"></a>易错点</h1><h2 id="图片存放"><a href="#图片存放" class="headerlink" title="图片存放"></a>图片存放</h2><p>博客部署时图片应该存放至<br>&#x2F;Blog&#x2F;themes&#x2F;butterfly&#x2F;source&#x2F;img&#x2F;<br>才能<strong>正常应用新图片</strong></p>
<h2 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h2><p>Hexo 会自动合并主题中的 _config.yml 和 _config.butterfly.yml 里的配置，如果存在同名配置，会使用 _config.butterfly.yml 的配置，其优先度较高。升级完成后，到 Github 的 <a href="https://github.com/jerryc127/hexo-theme-butterfly/releases">Releases</a> 界面查看新版的更新内容。<br>里面有标注 _config 文件的变更内容（如有），需根据实际情况更新配置内容。</p>
<h2 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a>_config.yml</h2><h3 id="GitHub推送"><a href="#GitHub推送" class="headerlink" title="GitHub推送"></a>GitHub推送</h3><p>需在_config.yml结尾填写以下内容，<strong>注意缩进</strong><br><strong>使用SSH,需要本地有SSH私钥</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:Github用户名/GitHub用户名.github.io.git</span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure>
<h3 id="部分配置"><a href="#部分配置" class="headerlink" title="部分配置"></a>部分配置</h3><p>网站时区（timezone）、语言（language）、简介（description）、标题（title）、所有者（author）及指定主题（theme）需在此配置文件设定</p>
<h1 id="备忘"><a href="#备忘" class="headerlink" title="备忘"></a>备忘</h1><h2 id="安装的插件"><a href="#安装的插件" class="headerlink" title="安装的插件"></a>安装的插件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo-site@0.0.0 /home/用户名/Blog</span><br><span class="line">├── hexo-deployer-git</span><br><span class="line">├── hexo-generator-archive</span><br><span class="line">├── hexo-generator-category</span><br><span class="line">├── hexo-generator-index</span><br><span class="line">├── hexo-generator-searchdb</span><br><span class="line">├── hexo-generator-tag</span><br><span class="line">├── hexo-renderer-ejs</span><br><span class="line">├── hexo-renderer-marked</span><br><span class="line">├── hexo-renderer-pug</span><br><span class="line">├── hexo-renderer-stylus</span><br><span class="line">├── hexo-server</span><br><span class="line">├── hexo-theme-landscape</span><br><span class="line">├── hexo-wordcount</span><br><span class="line">└── hexo</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>博客</tag>
      </tags>
  </entry>
  <entry>
    <title>HyperOS 2.0软件去除机型限制教程</title>
    <url>/2025/01/17/HyperOS2.0%E8%BD%AF%E4%BB%B6%E5%8E%BB%E9%99%A4%E6%9C%BA%E5%9E%8B%E9%99%90%E5%88%B6%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h1><h2 id="arsc-（需mt会员）"><a href="#arsc-（需mt会员）" class="headerlink" title="arsc++（需mt会员）"></a>arsc++（需mt会员）</h2><p>提取小米笔记apk并查看，选择arsc编辑器++，搜索，输入查找内容“DEVICE_BLACKLIST”后点确定，分别点击进入（看图），删除中蓝色部分（小米桑心病狂，两屏幕的黑名单），后保存并退出</p>
<p><img src="/img/posts/HyperOS2.0%E8%BD%AF%E4%BB%B6%E5%8E%BB%E9%99%A4%E6%9C%BA%E5%9E%8B%E9%99%90%E5%88%B6%E6%95%99%E7%A8%8B/%E5%9B%BE1.jpg"></p>
<h2 id="arsc"><a href="#arsc" class="headerlink" title="arsc"></a>arsc</h2><p>提取小米笔记apk并查看，选择arsc编辑器，com.miui.notes - array - array，分别进入”ai_widget_global_device_blacklist”和”ai_widget_device_blacklist”，右上角三点，选择过滤，输入自己的手机代号（不清楚可以前往 <a href="https://miuiver.com/xiaomi-device-codename/">https://miuiver.com/xiaomi-device-codename/</a> 查询，下文所有手机代号都可以在这查），然后确定，长按删除，完成后保存并退出</p>
<p><img src="/img/posts/HyperOS2.0%E8%BD%AF%E4%BB%B6%E5%8E%BB%E9%99%A4%E6%9C%BA%E5%9E%8B%E9%99%90%E5%88%B6%E6%95%99%E7%A8%8B/%E5%9B%BE2.jpg"></p>
<h1 id="录音机"><a href="#录音机" class="headerlink" title="录音机"></a>录音机</h1><h2 id="arsc-（需mt会员）-1"><a href="#arsc-（需mt会员）-1" class="headerlink" title="arsc++（需mt会员）"></a>arsc++（需mt会员）</h2><p>提取录音机apk并查看，选择arsc编辑器++，搜索，输入查找内容“support_ai_devices_cn”后点确定，点击进入第一项，如果只需要适配单个或几个机型，就直接把下面例如＂haotian＂的手机代号换成你要适配的设备的代号就OK<br><em>如果要做全适配，建议直接去原版笔记复制黑名单，粘贴到这里面的白名单</em></p>
<p><img src="/img/posts/HyperOS2.0%E8%BD%AF%E4%BB%B6%E5%8E%BB%E9%99%A4%E6%9C%BA%E5%9E%8B%E9%99%90%E5%88%B6%E6%95%99%E7%A8%8B/%E5%9B%BE3.jpg"></p>
<h2 id="arsc-1"><a href="#arsc-1" class="headerlink" title="arsc"></a>arsc</h2><p>提取录音机apk并查看，选择arsc编辑器，com.android.soundrecorder - array - array，进入”support_ai_devices_cn”，选择任意一个手机代号，改为你使用的手机代号，然后确定，保存并退出</p>
<p><img src="/img/posts/HyperOS2.0%E8%BD%AF%E4%BB%B6%E5%8E%BB%E9%99%A4%E6%9C%BA%E5%9E%8B%E9%99%90%E5%88%B6%E6%95%99%E7%A8%8B/%E5%9B%BE4.jpg"></p>
<h1 id="壁纸（ai动态壁纸）"><a href="#壁纸（ai动态壁纸）" class="headerlink" title="壁纸（ai动态壁纸）"></a>壁纸（ai动态壁纸）</h1><p>提取壁纸apk并查看，选择dex编辑器++，搜索方法名“isLiteDevice”和“isLowEndDevice”，点击进入，上边指南针，长按清空代码，保存并退出<br>此操作只能解锁壁纸上对ai动态壁纸的限制，要完全解锁还需要改主题壁纸</p>
<p><img src="/img/posts/HyperOS2.0%E8%BD%AF%E4%BB%B6%E5%8E%BB%E9%99%A4%E6%9C%BA%E5%9E%8B%E9%99%90%E5%88%B6%E6%95%99%E7%A8%8B/%E5%9B%BE5.jpg"></p>
<h1 id="主题壁纸"><a href="#主题壁纸" class="headerlink" title="主题壁纸"></a>主题壁纸</h1><h2 id="arsc-（需mt会员，无图，可参考录音机）"><a href="#arsc-（需mt会员，无图，可参考录音机）" class="headerlink" title="arsc++（需mt会员，无图，可参考录音机）"></a>arsc++（需mt会员，无图，可参考录音机）</h2><p>提取主题壁纸apk并查看，选择arsc编辑器++，搜索，输入查找内容“ai_record_device”后点确定，点击进入第一项，如果只需要适配单个或几个机型，就直接把下面例如＂haotian＂的手机代号换成你要适配的设备的代号就OK<br><em>如果要做全适配，建议直接去原版笔记复制黑名单，粘贴到这里面的白名单</em></p>
<h2 id="arsc-2"><a href="#arsc-2" class="headerlink" title="arsc"></a>arsc</h2><p>提取主题壁纸apk并查看，选择arsc编辑器，com.android.thememanager - array - array，进入”ai_record_device”，选择任意一个手机代号，改为你使用的手机代号，然后确定，保存并退出</p>
<h1 id="通讯录（无网通，不保证能用）"><a href="#通讯录（无网通，不保证能用）" class="headerlink" title="通讯录（无网通，不保证能用）"></a>通讯录（无网通，不保证能用）</h1><p>提取通讯录apk并查看，选择dex编辑器++，搜索类名“Lcom&#x2F;miui&#x2F;contacts&#x2F;common&#x2F;SystemUtil;”，点击进入，上边指南针，搜索U，长按清空代码，“0x0”改“0x1”，保存，搜索方法名“isRedmi”，点击进入，清除两项代码（看图），保存并退出</p>
<p><img src="/img/posts/HyperOS2.0%E8%BD%AF%E4%BB%B6%E5%8E%BB%E9%99%A4%E6%9C%BA%E5%9E%8B%E9%99%90%E5%88%B6%E6%95%99%E7%A8%8B/%E5%9B%BE6.jpg"></p>
<h1 id="超级小爱（连续对话）"><a href="#超级小爱（连续对话）" class="headerlink" title="超级小爱（连续对话）"></a>超级小爱（连续对话）</h1><p>提取超级小爱apk并查看，选择dex编辑器++，搜索方法名“isSupportDuplex<br>”和“isDeviceSupportFullDuplex”，点击进入，上边指南针，长按清空代码，“0x0”改“0x1”，保存并退出</p>
<h1 id="系统桌面（模糊限制）"><a href="#系统桌面（模糊限制）" class="headerlink" title="系统桌面（模糊限制）"></a>系统桌面（模糊限制）</h1><p>提取桌面apk并查看，选择Dex编辑器++ ，搜索方法名 “isNotSupportBlurDevice”，点开，上边指南针，长按清空代码，保存并退出</p>
]]></content>
      <categories>
        <category>安卓</category>
      </categories>
      <tags>
        <tag>HyperOS</tag>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>Hyper OS 移植</title>
    <url>/2025/01/18/HyperOS%E7%A7%BB%E6%A4%8D/</url>
    <content><![CDATA[<h1 id="Hyper-移植"><a href="#Hyper-移植" class="headerlink" title="Hyper 移植"></a>Hyper 移植</h1><h2 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h2><p><em><strong>!!!仅适用于marble!!!</strong></em><br><strong>将需要移植的HyperOS文件置于</strong><br><strong>DNA_HyperSuper项目中，再进行分解</strong><br><strong>需分解product system system_ext mi_ext四个分区</strong><br><strong>新版NFC页面修改在vendor分区的prop文件</strong></p>
<p><em><strong>超级壁纸有无</strong></em><br><strong>是否为支持机型的MIWallpaperOverlay.apk</strong></p>
<p><em><strong>设置启用小米澎湃AI</strong></em><br><strong>搜索.method public static isAiSupported()Z</strong><br><strong>清空改为0x1</strong></p>
<p><em><strong>相机启用实验室选项</strong></em><br><strong>搜索camera.lab.options</strong><br><strong>改为0x1</strong><br><em><strong>相机解锁4k60</strong></em><br><strong>c1.v0类(旧版) d1.u0类(新版) 搜索static s</strong><br><strong>寄存器后第一个0x0</strong><br><strong>改0x1 const&#x2F;4 p0, 0x1</strong><br><em><strong>相机隐私政策</strong></em><br><strong>靠上行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://privacy.mi.com/all/%s_%s</span><br></pre></td></tr></table></figure>
<p><strong>靠下行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://privacy.mi.com/all/</span><br></pre></td></tr></table></figure>

<p><em><strong>小米预加载prop</strong></em><br><strong>系统启动时需要预启动的进程列表</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.prestart.proc</span><br></pre></td></tr></table></figure>
<p><strong>启用或禁用预加载机制，在系统启动时提前加载应用或服务</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.preload.enable</span><br></pre></td></tr></table></figure>
<p><strong>启用或禁用启动反馈机制，可能是与用户启动应用时的反馈相关</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.prestart.feedback.enable</span><br></pre></td></tr></table></figure>
<p><strong>启用或禁用预缓存机制，在启动时缓存某些数据或资源</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.precache.enable</span><br></pre></td></tr></table></figure>
<p><strong>启用或禁用应用程序 Dex 文件的预加载，提高应用启动速度</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.app_dexfile_preload.enable</span><br></pre></td></tr></table></figure>

<h2 id="一键移植Shell脚本"><a href="#一键移植Shell脚本" class="headerlink" title="一键移植Shell脚本"></a>一键移植Shell脚本</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># ANSI颜色代码</span><br><span class="line">RED=&#x27;\033[0;31m&#x27;</span><br><span class="line">GREEN=&#x27;\033[0;32m&#x27;</span><br><span class="line">YELLOW=&#x27;\033[0;33m&#x27;</span><br><span class="line">BLUE=&#x27;\033[0;34m&#x27;</span><br><span class="line">CYAN=&#x27;\033[0;36m&#x27;</span><br><span class="line">NC=&#x27;\033[0m&#x27; # 重置颜色</span><br><span class="line"></span><br><span class="line"># 打印函数</span><br><span class="line">print_msg() &#123;</span><br><span class="line">    local color=$1</span><br><span class="line">    shift</span><br><span class="line">    echo -e &quot;$&#123;color&#125;$*$&#123;NC&#125;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_error() &#123;</span><br><span class="line">    print_msg &quot;$RED&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_success() &#123;</span><br><span class="line">    print_msg &quot;$GREEN&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_warning() &#123;</span><br><span class="line">    print_msg &quot;$YELLOW&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_info() &#123;</span><br><span class="line">    print_msg &quot;$CYAN&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_title() &#123;</span><br><span class="line">    echo -e &quot;$&#123;BLUE&#125;============================================$&#123;NC&#125;&quot;</span><br><span class="line">    print_msg &quot;$BLUE&quot; &quot;$1&quot;</span><br><span class="line">    echo -e &quot;$&#123;BLUE&#125;============================================$&#123;NC&#125;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 检查root权限</span><br><span class="line">if [ &quot;$(id -u)&quot; -ne 0 ]; then</span><br><span class="line">    print_error &quot;错误：此脚本需要root权限！请使用sudo运行&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># ==================== 精简操作 ====================</span><br><span class="line">print_title &quot;执行精简操作&quot;</span><br><span class="line">targets=(</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/priv-app/MIUIBrowser&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/data-app/BaiduIME&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/data-app/iFlytekIME&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/data-app/MIGalleryLockscreen&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/data-app/MIService&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/data-app/MIUIEmail&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/data-app/MIUIHuanji&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/data-app/MIUIMiDrive&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/data-app/MIUIVirtualSim&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/app/HybridPlatform&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/app/MSA&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/app/AnalyticsCore&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/app/Updater&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/app/MiTrustService&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">deleted_count=0</span><br><span class="line">not_found_count=0</span><br><span class="line"></span><br><span class="line">for target in &quot;$&#123;targets[@]&#125;&quot;; do</span><br><span class="line">    if [ -d &quot;$target&quot; ]; then</span><br><span class="line">        rm -rf &quot;$target&quot;</span><br><span class="line">        if [ $? -eq 0 ]; then</span><br><span class="line">            print_success &quot;✓ 已删除: $target&quot;</span><br><span class="line">            ((deleted_count++))</span><br><span class="line">        else</span><br><span class="line">            print_error &quot;✗ 删除失败: $target&quot;</span><br><span class="line">        fi</span><br><span class="line">    else</span><br><span class="line">        print_warning &quot;⚠ 目录不存在: $target&quot;</span><br><span class="line">        ((not_found_count++))</span><br><span class="line">    fi</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo</span><br><span class="line">print_info &quot;---------------------------------&quot;</span><br><span class="line">print_success &quot;精简完成: 删除 $deleted_count 个目录&quot;</span><br><span class="line">print_warning &quot;未找到 $not_found_count 个目录&quot;</span><br><span class="line">print_info &quot;---------------------------------&quot;</span><br><span class="line"></span><br><span class="line"># ==================== build.prop处理 ====================</span><br><span class="line">print_title &quot;处理 build.prop 文件&quot;</span><br><span class="line"></span><br><span class="line">content=&#x27;import /product/etc/$&#123;ro.boot.product.hardware.sku&#125;_atp.prop&#x27;</span><br><span class="line">file_path=&quot;/data/DNA/DNA_HyperSuper/mi_ext/etc/build.prop&quot;</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$file_path&quot; ]; then</span><br><span class="line">    sed -i &quot;1i$content&quot; &quot;$file_path&quot;</span><br><span class="line">    print_success &quot;✓ 内容已添加到文件开头: $file_path&quot;</span><br><span class="line">    print_info &quot;添加内容: $content&quot;</span><br><span class="line">else</span><br><span class="line">    print_error &quot;✗ 文件不存在: $file_path&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># ==================== 分区文件处理 ====================</span><br><span class="line">print_title &quot;处理分区文件&quot;</span><br><span class="line"></span><br><span class="line">sources=(</span><br><span class="line">    &quot;/data/DNA/需替换文件/system/&quot;</span><br><span class="line">    &quot;/data/DNA/需替换文件/product/&quot;</span><br><span class="line">    &quot;/data/DNA/需替换文件/system_ext/&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">destinations=(</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/system/&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/product/&quot;</span><br><span class="line">    &quot;/data/DNA/DNA_HyperSuper/system_ext/&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">copied_count=0</span><br><span class="line">for i in &quot;$&#123;!sources[@]&#125;&quot;; do</span><br><span class="line">    src=&quot;$&#123;sources[$i]&#125;&quot;</span><br><span class="line">    dest=&quot;$&#123;destinations[$i]&#125;&quot;</span><br><span class="line">    </span><br><span class="line">    if [ -d &quot;$src&quot; ]; then</span><br><span class="line">        cp -rf &quot;$src&quot;* &quot;$dest&quot;</span><br><span class="line">        if [ $? -eq 0 ]; then</span><br><span class="line">            print_success &quot;✓ 复制成功: $src → $dest&quot;</span><br><span class="line">            ((copied_count++))</span><br><span class="line">        else</span><br><span class="line">            print_error &quot;✗ 复制失败: $src → $dest&quot;</span><br><span class="line">        fi</span><br><span class="line">    else</span><br><span class="line">        print_error &quot;✗ 源目录不存在: $src&quot;</span><br><span class="line">    fi</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo</span><br><span class="line">print_info &quot;---------------------------------&quot;</span><br><span class="line">print_success &quot;复制完成: 成功 $copied_count 个分区&quot;</span><br><span class="line">print_info &quot;---------------------------------&quot;</span><br><span class="line"></span><br><span class="line"># ==================== 处理tango ====================</span><br><span class="line">print_title &quot;关闭tango服务&quot;</span><br><span class="line"></span><br><span class="line">tango_file=&quot;/data/DNA/DNA_HyperSuper/system/system/build.prop&quot;</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$tango_file&quot; ]; then</span><br><span class="line">    if grep -q &#x27;^tango&#x27; &quot;$tango_file&quot;; then</span><br><span class="line">        sed -i &#x27;s/tango/#tango/g&#x27; &quot;$tango_file&quot;</span><br><span class="line">        print_success &quot;✓ tango已成功关闭&quot;</span><br><span class="line">        print_warning &quot;已注释包含 &#x27;tango&#x27; 的行&quot;</span><br><span class="line">    else</span><br><span class="line">        print_warning &quot;⚠ 未找到需要处理的tango配置&quot;</span><br><span class="line">    fi</span><br><span class="line">else</span><br><span class="line">    print_error &quot;✗ 文件不存在: $tango_file&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># ==================== 最终结果 ====================</span><br><span class="line">echo</span><br><span class="line">print_title &quot;所有操作已完成&quot;</span><br><span class="line">print_success &quot;运行结束&quot;</span><br><span class="line">echo</span><br></pre></td></tr></table></figure>
<h3 id="marble-atp-prop"><a href="#marble-atp-prop" class="headerlink" title="marble_atp.prop"></a>marble_atp.prop</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#battery</span><br><span class="line">persist.vendor.batteryantiaging=1</span><br><span class="line">persist.vendor.high_temp_stop_charge=true</span><br><span class="line">persist.vendor.extreme.mode.V2=true</span><br><span class="line">persist.vendor.battery.erp=true</span><br><span class="line">#camera</span><br><span class="line">persist.sys.miui.camera.boost.enable=true</span><br><span class="line">persist.sys.miui.camera.boost.opt=true</span><br><span class="line">persist.sys.miui.camera.protect_prev_ext=true</span><br><span class="line">ro.vendor.audio.zoom.support=true</span><br><span class="line">ro.vendor.audio.zoom.type=2</span><br><span class="line">#screen</span><br><span class="line">persist.miui.density_v2=440</span><br><span class="line">ro.sf.lcd_density=440</span><br><span class="line">#performance</span><br><span class="line">ro.vendor.perf.scroll_opt=1</span><br><span class="line">vendor.perf.framepacing.enable=1</span><br><span class="line">ro.virtual_ab.compression.enabled=true</span><br><span class="line">#cores</span><br><span class="line">persist.sys.miui_animator_sched.bigcores=4-6</span><br><span class="line">persist.sys.miui_animator_sched.big_prime_cores=4-7</span><br><span class="line">persist.vendor.display.miui.composer_boost=4-7</span><br><span class="line">#sf</span><br><span class="line">ro.miui.surfaceflinger_affinity=</span><br><span class="line">persist.sys.miui.sf_cores=</span><br><span class="line">ro.miui.affinity.sfui=4-6</span><br><span class="line">ro.miui.affinity.sfre=4-6</span><br><span class="line">ro.miui.affinity.sfuireset=4-6</span><br><span class="line">#prestrain</span><br><span class="line">persist.sys.preload.enable=false</span><br><span class="line">persist.sys.prestart.proc=false</span><br><span class="line">persist.sys.prestart.feedback.enable=false</span><br><span class="line">#threads</span><br><span class="line">persist.sys.miui_animator_sched.sched_threads=2</span><br><span class="line">#firstframe</span><br><span class="line">persist.sys.first.frame.accelerates=true</span><br><span class="line">#millet</span><br><span class="line">persist.sys.powmillet.enable=true</span><br><span class="line">persist.sys.brightmillet.enable=true</span><br><span class="line">persist.sys.millet.handshake=true</span><br><span class="line">persist.sys.millet.newversion=true</span><br><span class="line">ro.millet.netlink=30</span><br><span class="line">#aptx</span><br><span class="line">persist.vendor.qcom.bluetooth.aptxadaptiver2_2_support=true</span><br><span class="line">#audio</span><br><span class="line">ro.vendor.audio.sfx.harmankardon=false</span><br><span class="line">ro.vendor.audio.clean_speaker=true</span><br><span class="line">#haptic</span><br><span class="line">sys.haptic.slide_version=2.0</span><br><span class="line">#dis timeout</span><br><span class="line">ro.vendor.display.type=</span><br><span class="line">#network voice helper</span><br><span class="line">ro.vendor.audio.voip.assistant=false</span><br><span class="line">#logd_off</span><br><span class="line">vendor.bluetooth.startbtlogger=false</span><br><span class="line">persist.sys.offlinelog.kernel=false</span><br><span class="line">persist.sys.offlinelog.logcat=false</span><br><span class="line">persist.sys.offlinelog.logcatkernel=false</span><br><span class="line">ro.logdumpd.enabled=0</span><br><span class="line">ro.lmk.debug=false</span><br><span class="line">ro.kernel.android.checkjni=0</span><br><span class="line">ro.kernel.checkjni=0</span><br><span class="line">sys.miui.ndcd=off</span><br><span class="line">persist.logd.limit=OFF</span><br><span class="line">persist.logd.size=65536</span><br><span class="line">persist.logd.size.crash=1M</span><br><span class="line">persist.logd.size.radio=1M</span><br><span class="line">persist.logd.size.system=1M</span><br><span class="line">persist.mm.enable.prefetch=false</span><br><span class="line">log.tag.stats_log=OFF</span><br><span class="line">ro.logd.size=64K</span><br><span class="line">ro.logd.size.stats=64K</span><br><span class="line">debug.sqlite.wal.syncmode=OFF</span><br><span class="line">debug.sqlite.journalmode=OFF</span><br><span class="line">#Extra Edition</span><br><span class="line">ro.vendor.build.security_patch=2025-06-01</span><br><span class="line">ro.product.brand=Redmi</span><br><span class="line">ro.product.manufacturer=Xiaomi</span><br><span class="line">ro.product.model=23049RAD8C</span><br><span class="line">ro.product.marketname=Redmi Note 12 Turbo</span><br><span class="line">ro.miui.product.home=com.miui.home</span><br><span class="line">debug.game.video.speed=true</span><br><span class="line">debug.game.video.support=true</span><br><span class="line">#configuration</span><br><span class="line">persist.sys.debug.scout_memory_disable_kgsl=true</span><br><span class="line">persist.sys.scout_dumpbysocket=true</span><br><span class="line">persist.sys.scout_binder_gki=true</span><br><span class="line">persist.sys.device_config_gki=true</span><br><span class="line">persist.sys.mmms.lowmem.wmark.boost.factor=1</span><br><span class="line">persist.sys.spc.gamepay.protect.enabled=true</span><br><span class="line">persist.sys.mms.bg_apps_limit=96</span><br><span class="line">persist.sys.mmms.throttled.thread=8960</span><br><span class="line">persist.lm.em.per_flush_quota_low=20000</span><br><span class="line">persist.lm.em.per_flush_quota_medium=12000</span><br><span class="line">persist.lm.em.per_flush_quota_high=8000</span><br><span class="line">persist.lm.em.flush_zram_usedrate=30</span><br><span class="line">persist.em.low_flush_level=8</span><br><span class="line">persist.em.medium_flush_level=6</span><br><span class="line">persist.em.high_flush_level=4</span><br><span class="line">persist.sys.use_boot_compact=true</span><br><span class="line">persist.sys.enable_templimit=true</span><br><span class="line">persist.sys.testTrimMemActivityBg.wk.enable=true</span><br><span class="line">persist.sys.extra_buffer_num=1</span><br><span class="line">persist.sys.memory_standard.enable=true</span><br><span class="line">persist.sys.expend_min_ram_limit=4</span><br><span class="line">persist.sys.memory_standard.appheap.enable=true</span><br><span class="line">persist.sys.memory_standard.handle.time=300000</span><br><span class="line">persist.sys.smartpower.display_camera_fps_enable=true</span><br><span class="line">persist.sys.adoptable=force_off</span><br><span class="line">ro.miui.cust_erofs=1</span><br><span class="line">persist.miui.extm.dm_opt.enable=true</span><br></pre></td></tr></table></figure>

<h2 id="底包文件提取Shell脚本"><a href="#底包文件提取Shell脚本" class="headerlink" title="底包文件提取Shell脚本"></a>底包文件提取Shell脚本</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># ANSI颜色代码</span><br><span class="line">RED=&#x27;\033[0;31m&#x27;</span><br><span class="line">GREEN=&#x27;\033[0;32m&#x27;</span><br><span class="line">YELLOW=&#x27;\033[0;33m&#x27;</span><br><span class="line">BLUE=&#x27;\033[0;34m&#x27;</span><br><span class="line">CYAN=&#x27;\033[0;36m&#x27;</span><br><span class="line">NC=&#x27;\033[0m&#x27; # 重置颜色</span><br><span class="line"></span><br><span class="line"># 打印函数</span><br><span class="line">print_msg() &#123;</span><br><span class="line">    local color=$1</span><br><span class="line">    shift</span><br><span class="line">    echo -e &quot;$&#123;color&#125;$*$&#123;NC&#125;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_error() &#123;</span><br><span class="line">    print_msg &quot;$RED&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_success() &#123;</span><br><span class="line">    print_msg &quot;$GREEN&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_warning() &#123;</span><br><span class="line">    print_msg &quot;$YELLOW&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_info() &#123;</span><br><span class="line">    print_msg &quot;$CYAN&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_title() &#123;</span><br><span class="line">    echo -e &quot;$&#123;BLUE&#125;============================================$&#123;NC&#125;&quot;</span><br><span class="line">    print_msg &quot;$BLUE&quot; &quot;$1&quot;</span><br><span class="line">    echo -e &quot;$&#123;BLUE&#125;============================================$&#123;NC&#125;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 源目录和目标目录</span><br><span class="line">SOURCE_DIR=&quot;/data/DNA/DNA_HyperSuper/&quot;</span><br><span class="line">REPLACE_DIR=&quot;/data/DNA/需替换文件/&quot;</span><br><span class="line">DEST_DIR=&quot;/storage/emulated/0/DNA/draw/&quot;</span><br><span class="line"></span><br><span class="line">print_title &quot;开始文件比对复制操作&quot;</span><br><span class="line">print_info &quot;源目录: $SOURCE_DIR&quot;</span><br><span class="line">print_info &quot;替换目录: $REPLACE_DIR&quot;</span><br><span class="line">print_info &quot;目标目录: $DEST_DIR&quot;</span><br><span class="line">echo</span><br><span class="line"></span><br><span class="line"># 确保目标目录存在</span><br><span class="line">mkdir -p &quot;$DEST_DIR&quot; &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">if [ $? -ne 0 ]; then</span><br><span class="line">    print_error &quot;✗ 无法创建目标目录: $DEST_DIR&quot;</span><br><span class="line">    exit 1</span><br><span class="line">else</span><br><span class="line">    print_success &quot;✓ 目标目录已创建/确认存在: $DEST_DIR&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># 计数器</span><br><span class="line">total_files=0</span><br><span class="line">copied_files=0</span><br><span class="line">missing_files=0</span><br><span class="line">dir_created=0</span><br><span class="line"></span><br><span class="line">print_info &quot;正在扫描并复制文件...&quot;</span><br><span class="line">echo</span><br><span class="line"></span><br><span class="line"># 临时文件用于存储结果</span><br><span class="line">TMPFILE=$(mktemp)</span><br><span class="line"></span><br><span class="line"># 处理文件复制（避免子shell问题）</span><br><span class="line">while IFS= read -r file; do</span><br><span class="line">    # 从SOURCE_DIR中提取相对路径</span><br><span class="line">    relative_path=$&#123;file#&quot;$SOURCE_DIR&quot;&#125;</span><br><span class="line"></span><br><span class="line">    # 构造在REPLACE_DIR下的完整路径</span><br><span class="line">    replace_file=&quot;$REPLACE_DIR$relative_path&quot;</span><br><span class="line"></span><br><span class="line">    # 检查在REPLACE_DIR下是否存在同名文件</span><br><span class="line">    if [ -f &quot;$replace_file&quot; ]; then</span><br><span class="line">        # 构造目标目录路径</span><br><span class="line">        dest_file=&quot;$DEST_DIR$relative_path&quot;</span><br><span class="line">        dest_dir=$(dirname &quot;$dest_file&quot;)</span><br><span class="line"></span><br><span class="line">        # 确保目标目录存在</span><br><span class="line">        if [ ! -d &quot;$dest_dir&quot; ]; then</span><br><span class="line">            mkdir -p &quot;$dest_dir&quot; &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">            if [ $? -eq 0 ]; then</span><br><span class="line">                ((dir_created++))</span><br><span class="line">            fi</span><br><span class="line">        fi</span><br><span class="line"></span><br><span class="line">        # 复制文件</span><br><span class="line">        cp &quot;$file&quot; &quot;$dest_file&quot; &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">        if [ $? -eq 0 ]; then</span><br><span class="line">            print_success &quot;✓ 复制: $&#123;relative_path:0:60&#125;...&quot;</span><br><span class="line">            ((copied_files++))</span><br><span class="line">        else</span><br><span class="line">            print_error &quot;✗ 复制失败: $relative_path&quot;</span><br><span class="line">        fi</span><br><span class="line">        ((total_files++))</span><br><span class="line">    else</span><br><span class="line">        # 统计但不显示未找到的文件（避免输出过多）</span><br><span class="line">        ((missing_files++))</span><br><span class="line">    fi</span><br><span class="line">done &lt; &lt;(find &quot;$SOURCE_DIR&quot; -type f -print0 | tr &#x27;\0&#x27; &#x27;\n&#x27;)</span><br><span class="line"></span><br><span class="line"># 检查是否找到任何文件</span><br><span class="line">if [ $total_files -eq 0 ] &amp;&amp; [ $missing_files -eq 0 ]; then</span><br><span class="line">    print_error &quot;⚠ 未在源目录中找到任何文件: $SOURCE_DIR&quot;</span><br><span class="line">    print_warning &quot;⚠ 请检查源目录路径是否存在&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo</span><br><span class="line">print_info &quot;---------------------------------&quot;</span><br><span class="line">print_success &quot;操作完成!&quot;</span><br><span class="line">print_info &quot;---------------------------------&quot;</span><br><span class="line">print_info &quot;处理的文件总数:   $total_files&quot;</span><br><span class="line">print_success &quot;成功复制的文件:  $copied_files&quot;</span><br><span class="line">print_warning &quot;未找到的替换文件: $missing_files&quot;</span><br><span class="line">print_info &quot;创建的目录数:     $dir_created&quot;</span><br><span class="line">print_info &quot;目标目录位置:     $DEST_DIR&quot;</span><br><span class="line">print_info &quot;---------------------------------&quot;</span><br><span class="line">echo</span><br><span class="line">print_success &quot;所有操作已完成&quot;</span><br><span class="line"></span><br><span class="line"># 清理临时文件</span><br><span class="line">rm -f &quot;$TMPFILE&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="目录文件比较Shell脚本"><a href="#目录文件比较Shell脚本" class="headerlink" title="目录文件比较Shell脚本"></a>目录文件比较Shell脚本</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># ANSI颜色代码</span><br><span class="line">RED=&#x27;\033[0;31m&#x27;</span><br><span class="line">GREEN=&#x27;\033[0;32m&#x27;</span><br><span class="line">YELLOW=&#x27;\033[0;33m&#x27;</span><br><span class="line">BLUE=&#x27;\033[0;34m&#x27;</span><br><span class="line">CYAN=&#x27;\033[0;36m&#x27;</span><br><span class="line">NC=&#x27;\033[0m&#x27; # 重置颜色</span><br><span class="line"></span><br><span class="line"># 打印函数</span><br><span class="line">print_msg() &#123;</span><br><span class="line">    local color=$1</span><br><span class="line">    shift</span><br><span class="line">    echo -e &quot;$&#123;color&#125;$*$&#123;NC&#125;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_error() &#123;</span><br><span class="line">    print_msg &quot;$RED&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_success() &#123;</span><br><span class="line">    print_msg &quot;$GREEN&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_warning() &#123;</span><br><span class="line">    print_msg &quot;$YELLOW&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_info() &#123;</span><br><span class="line">    print_msg &quot;$CYAN&quot; &quot;$1&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_title() &#123;</span><br><span class="line">    echo -e &quot;$&#123;BLUE&#125;============================================$&#123;NC&#125;&quot;</span><br><span class="line">    print_msg &quot;$BLUE&quot; &quot;$1&quot;</span><br><span class="line">    echo -e &quot;$&#123;BLUE&#125;============================================$&#123;NC&#125;&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 定义要比较的两个目录</span><br><span class="line">dir1=&quot;/data/DNA/DNA_HyperSuper/product/overlay&quot;</span><br><span class="line">dir2=&quot;/data/DNA/需替换文件/product/overlay&quot;</span><br><span class="line"></span><br><span class="line">print_title &quot;目录差异比较工具&quot;</span><br><span class="line">print_info &quot;目录1: $dir1&quot;</span><br><span class="line">print_info &quot;目录2: $dir2&quot;</span><br><span class="line">echo</span><br><span class="line"></span><br><span class="line"># 检查目录是否存在</span><br><span class="line">if [ ! -d &quot;$dir1&quot; ]; then</span><br><span class="line">    print_error &quot;错误：目录 $dir1 不存在&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line">if [ ! -d &quot;$dir2&quot; ]; then</span><br><span class="line">    print_error &quot;错误：目录 $dir2 不存在&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">print_info &quot;正在扫描目录内容...&quot;</span><br><span class="line"># 创建临时文件</span><br><span class="line">tmp_dir=$(mktemp -d)</span><br><span class="line">tmp1=&quot;$tmp_dir/dir1_files.txt&quot;</span><br><span class="line">tmp2=&quot;$tmp_dir/dir2_files.txt&quot;</span><br><span class="line">common_files=&quot;$tmp_dir/common_files.txt&quot;</span><br><span class="line">only_in_dir1=&quot;$tmp_dir/only_in_dir1.txt&quot;</span><br><span class="line">diff_files=&quot;$tmp_dir/diff_files.txt&quot;</span><br><span class="line"></span><br><span class="line"># 生成文件列表（相对路径）</span><br><span class="line">(cd &quot;$dir1&quot; &amp;&amp; find . -type f | sort &gt; &quot;$tmp1&quot;)</span><br><span class="line">(cd &quot;$dir2&quot; &amp;&amp; find . -type f | sort &gt; &quot;$tmp2&quot;)</span><br><span class="line"></span><br><span class="line"># 计算文件总数</span><br><span class="line">total_dir1=$(wc -l &lt; &quot;$tmp1&quot;)</span><br><span class="line">total_dir2=$(wc -l &lt; &quot;$tmp2&quot;)</span><br><span class="line"></span><br><span class="line"># 找出仅在 dir1 中的文件</span><br><span class="line">comm -23 &quot;$tmp1&quot; &quot;$tmp2&quot; &gt; &quot;$only_in_dir1&quot;</span><br><span class="line">only_in_dir1_count=$(wc -l &lt; &quot;$only_in_dir1&quot;)</span><br><span class="line"></span><br><span class="line"># 找出共同文件列表</span><br><span class="line">comm -12 &quot;$tmp1&quot; &quot;$tmp2&quot; &gt; &quot;$common_files&quot;</span><br><span class="line">common_count=$(wc -l &lt; &quot;$common_files&quot;)</span><br><span class="line"></span><br><span class="line"># 检查共同文件内容差异</span><br><span class="line">echo -n &quot;&quot; &gt; &quot;$diff_files&quot;  # 清空文件</span><br><span class="line">diff_count=0</span><br><span class="line">while IFS= read -r file; do</span><br><span class="line">    file1=&quot;$dir1/$file&quot;</span><br><span class="line">    file2=&quot;$dir2/$file&quot;</span><br><span class="line">    if ! cmp -s &quot;$file1&quot; &quot;$file2&quot;; then</span><br><span class="line">        echo &quot;$file&quot; &gt;&gt; &quot;$diff_files&quot;</span><br><span class="line">        ((diff_count++))</span><br><span class="line">    fi</span><br><span class="line">done &lt; &quot;$common_files&quot;</span><br><span class="line"></span><br><span class="line"># 输出统计信息</span><br><span class="line">echo</span><br><span class="line">print_info &quot;----------------------------------------&quot;</span><br><span class="line">print_info &quot;目录1文件总数: $total_dir1&quot;</span><br><span class="line">print_info &quot;目录2文件总数: $total_dir2&quot;</span><br><span class="line">print_info &quot;共同文件数量:  $common_count&quot;</span><br><span class="line">print_warning &quot;仅在目录1中存在的文件: $only_in_dir1_count&quot;</span><br><span class="line">print_warning &quot;内容不同的文件:        $diff_count&quot;</span><br><span class="line">print_info &quot;----------------------------------------&quot;</span><br><span class="line"></span><br><span class="line"># 输出结果</span><br><span class="line">if [ $only_in_dir1_count -gt 0 ] || [ $diff_count -gt 0 ]; then</span><br><span class="line">    echo</span><br><span class="line">    print_warning &quot;⚠ 检测到目录差异&quot;</span><br><span class="line">    </span><br><span class="line">    if [ $only_in_dir1_count -gt 0 ]; then</span><br><span class="line">        echo</span><br><span class="line">        print_warning &quot;仅在 $dir1 中存在的文件：&quot;</span><br><span class="line">        # 截断长路径显示</span><br><span class="line">        while IFS= read -r file; do</span><br><span class="line">            if [ $&#123;#file&#125; -gt 60 ]; then</span><br><span class="line">                echo &quot;...$&#123;file: -57&#125;&quot;</span><br><span class="line">            else</span><br><span class="line">                echo &quot;$file&quot;</span><br><span class="line">            fi</span><br><span class="line">        done &lt; &quot;$only_in_dir1&quot;</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    if [ $diff_count -gt 0 ]; then</span><br><span class="line">        echo</span><br><span class="line">        print_warning &quot;共同文件中内容不同的文件：&quot;</span><br><span class="line">        # 截断长路径显示</span><br><span class="line">        while IFS= read -r file; do</span><br><span class="line">            if [ $&#123;#file&#125; -gt 60 ]; then</span><br><span class="line">                echo &quot;...$&#123;file: -57&#125;&quot;</span><br><span class="line">            else</span><br><span class="line">                echo &quot;$file&quot;</span><br><span class="line">            fi</span><br><span class="line">        done &lt; &quot;$diff_files&quot;</span><br><span class="line">    fi</span><br><span class="line">else</span><br><span class="line">    print_success &quot;✓ 目录内容完全一致&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">echo</span><br><span class="line">print_info &quot;----------------------------------------&quot;</span><br><span class="line"></span><br><span class="line"># 清理临时文件</span><br><span class="line">rm -rf &quot;$tmp_dir&quot;</span><br><span class="line"></span><br><span class="line"># 返回成功退出码</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>安卓</category>
      </categories>
      <tags>
        <tag>HyperOS</tag>
        <tag>脚本</tag>
      </tags>
  </entry>
</search>
