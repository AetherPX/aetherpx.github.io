<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Arch Linux配置备忘录</title>
    <url>/2025/06/29/Arch%20Linux%E9%85%8D%E7%BD%AE%E5%A4%87%E5%BF%98%E5%BD%95/</url>
    <content><![CDATA[<p><strong>以下内容均可在ArchWiki找到，本人仅作针对自己使用整理</strong></p>
<h1 id="livecd联网"><a href="#livecd联网" class="headerlink" title="livecd联网"></a>livecd联网</h1><p>先用<strong>命令 ip link</strong>查看网络接口：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ip link</span><br></pre></td></tr></table></figure>
<p>查看到我的机器的无线网络接口是<strong>wlan0</strong>(不同的机器可能名字不同)，这里以我的无线网络接口wlan0为例。</p>
<p>默认是关闭的状态，需要先开启它，而开启它之前还需要先激活它(即取消禁用，我这台机器默认是<strong>blockeded</strong>，禁用的)。因此使用以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rfkill unblock wifi    #取消禁用wifi设备</span><br><span class="line">ip link set wlan0 up #开启wlan0</span><br><span class="line">iwctl #进入交互式提示符（interactive prompt），配置并连接到互联网。</span><br><span class="line">station wlan0 scan</span><br><span class="line">station wlan0 get-networks</span><br><span class="line">station wlan0 connect &lt;network name&gt; #然后会让你输入密码</span><br><span class="line">station wlan0 show</span><br><span class="line">exit　　# 回到命令行</span><br></pre></td></tr></table></figure>
<p><strong>尝试ping百度(<a href="http://www.baidu.com)可以ping通,已经连接上了互联网./">www.baidu.com)可以ping通，已经连接上了互联网。</a></strong></p>
<h1 id="SDDM"><a href="#SDDM" class="headerlink" title="SDDM"></a>SDDM</h1><h2 id="设置微风主题hidpi"><a href="#设置微风主题hidpi" class="headerlink" title="设置微风主题hidpi"></a>设置微风主题hidpi</h2><p><strong>编辑</strong>&#x2F;etc&#x2F;sddm.conf.d&#x2F;<br>在<strong>General</strong>补充</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[General]</span><br><span class="line"></span><br><span class="line">GreeterEnvironment=QT_SCREEN_SCALE_FACTORS=1.5,QT_FONT_DPI=144</span><br></pre></td></tr></table></figure>
<h2 id="显示中文"><a href="#显示中文" class="headerlink" title="显示中文"></a>显示中文</h2><p><strong>在 [service] 节中设置环境：</strong></p>
<p>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;sddm.service</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=LANG=zh_CN.UTF-8</span><br></pre></td></tr></table></figure>

<h1 id="kde密码库"><a href="#kde密码库" class="headerlink" title="kde密码库"></a>kde密码库</h1><p><strong>安装，并设置密码为空以便自动登录解锁密码库连接wifi</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S kwalletmanager</span><br></pre></td></tr></table></figure>

<h1 id="设置中文"><a href="#设置中文" class="headerlink" title="设置中文"></a>设置中文</h1><p><strong>首先设置一个英文的全局 locale。这并不是必须的，只是为了防止 TTY 中出现豆腐块：</strong></p>
<p>&#x2F;etc&#x2F;locale.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure>

<h2 id="安装中文字体"><a href="#安装中文字体" class="headerlink" title="安装中文字体"></a>安装中文字体</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S ttf-roboto noto-fonts noto-fonts-cjk adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts ttf-dejavu</span><br></pre></td></tr></table></figure>
<p><strong>修改</strong><br>~&#x2F;.config&#x2F;fontconfig&#x2F;fonts.conf 或 &#x2F;etc&#x2F;fonts&#x2F;local.conf<br><strong>改为</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt;</span><br><span class="line">&lt;fontconfig&gt;</span><br><span class="line">  &lt;its:rules xmlns:its=&quot;http://www.w3.org/2005/11/its&quot; version=&quot;1.0&quot;&gt;</span><br><span class="line">    &lt;its:translateRule</span><br><span class="line">      translate=&quot;no&quot;</span><br><span class="line">      selector=&quot;/fontconfig/*[not(self::description)]&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/its:rules&gt;</span><br><span class="line"></span><br><span class="line">  &lt;description&gt;Android Font Config&lt;/description&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- Font directory list --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;dir&gt;/usr/share/fonts&lt;/dir&gt;</span><br><span class="line">  &lt;dir&gt;/usr/local/share/fonts&lt;/dir&gt;</span><br><span class="line">  &lt;dir prefix=&quot;xdg&quot;&gt;fonts&lt;/dir&gt;</span><br><span class="line">  &lt;!-- the following element will be removed in the future --&gt;</span><br><span class="line">  &lt;dir&gt;~/.fonts&lt;/dir&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 关闭内嵌点阵字体 --&gt;</span><br><span class="line">  &lt;match target=&quot;font&quot;&gt;</span><br><span class="line">    &lt;edit name=&quot;embeddedbitmap&quot; mode=&quot;assign&quot;&gt;</span><br><span class="line">      &lt;bool&gt;false&lt;/bool&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 英文默认字体使用 Roboto 和 Noto Serif ,终端使用 DejaVu Sans Mono. --&gt;</span><br><span class="line">  &lt;match&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;serif&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;strong&quot;&gt;</span><br><span class="line">      &lt;string&gt;Noto Serif&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;sans-serif&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;strong&quot;&gt;</span><br><span class="line">      &lt;string&gt;Roboto&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;monospace&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot; binding=&quot;strong&quot;&gt;</span><br><span class="line">      &lt;string&gt;DejaVu Sans Mono&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 中文默认字体使用思源黑体和思源宋体,不使用　Noto Sans CJK SC 是因为这个字体会在特定情况下显示片假字. --&gt;</span><br><span class="line">  &lt;match&gt;</span><br><span class="line">    &lt;test name=&quot;lang&quot; compare=&quot;contains&quot;&gt;</span><br><span class="line">      &lt;string&gt;zh&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;test name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;serif&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Serif CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match&gt;</span><br><span class="line">    &lt;test name=&quot;lang&quot; compare=&quot;contains&quot;&gt;</span><br><span class="line">      &lt;string&gt;zh&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;test name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;sans-serif&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match&gt;</span><br><span class="line">    &lt;test name=&quot;lang&quot; compare=&quot;contains&quot;&gt;</span><br><span class="line">      &lt;string&gt;zh&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;test name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;monospace&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;prepend&quot;&gt;</span><br><span class="line">      &lt;string&gt;Noto Sans Mono CJK SC&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- Windows &amp; Linux Chinese fonts. --&gt;</span><br><span class="line">  &lt;!-- 把所有常见的中文字体映射到思源黑体和思源宋体，这样当这些字体未安装时会使用思源黑体和思源宋体.</span><br><span class="line">解决特定程序指定使用某字体，并且在字体不存在情况下不会使用fallback字体导致中文显示不正常的情况. --&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;WenQuanYi Zen Hei&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;WenQuanYi Micro Hei&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;WenQuanYi Micro Hei Light&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;Microsoft YaHei&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;SimHei&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Sans CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;SimSun&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Serif CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line">  &lt;match target=&quot;pattern&quot;&gt;</span><br><span class="line">    &lt;test qual=&quot;any&quot; name=&quot;family&quot;&gt;</span><br><span class="line">      &lt;string&gt;SimSun-18030&lt;/string&gt;</span><br><span class="line">    &lt;/test&gt;</span><br><span class="line">    &lt;edit name=&quot;family&quot; mode=&quot;assign&quot; binding=&quot;same&quot;&gt;</span><br><span class="line">      &lt;string&gt;Source Han Serif CN&lt;/string&gt;</span><br><span class="line">    &lt;/edit&gt;</span><br><span class="line">  &lt;/match&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- Load local system customization file --&gt;</span><br><span class="line">  &lt;include ignore_missing=&quot;yes&quot;&gt;conf.d&lt;/include&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- Font cache directory list --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;cachedir&gt;/var/cache/fontconfig&lt;/cachedir&gt;</span><br><span class="line">  &lt;cachedir prefix=&quot;xdg&quot;&gt;fontconfig&lt;/cachedir&gt;</span><br><span class="line">  &lt;!-- the following element will be removed in the future --&gt;</span><br><span class="line">  &lt;cachedir&gt;~/.fontconfig&lt;/cachedir&gt;</span><br><span class="line"></span><br><span class="line">  &lt;config&gt;</span><br><span class="line">    &lt;!-- Rescan configuration every 30 seconds when FcFontSetList is called --&gt;</span><br><span class="line">    &lt;rescan&gt;</span><br><span class="line">      &lt;int&gt;30&lt;/int&gt;</span><br><span class="line">    &lt;/rescan&gt;</span><br><span class="line">  &lt;/config&gt;</span><br><span class="line">&lt;/fontconfig&gt;</span><br></pre></td></tr></table></figure>

<h2 id="中文输入法"><a href="#中文输入法" class="headerlink" title="中文输入法"></a>中文输入法</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S fcitx5-im fcitx5-chinese-addons fcitx5-pinyin-zhwiki</span><br></pre></td></tr></table></figure>
<p><strong>环境变量&#x2F;etc&#x2F;environment添加</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">XMODIFIERS=@im=fcitx</span><br></pre></td></tr></table></figure>
<h2 id="软件中文"><a href="#软件中文" class="headerlink" title="软件中文"></a>软件中文</h2><h3 id="firefox"><a href="#firefox" class="headerlink" title="firefox"></a>firefox</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S firefox firefox-i18n-zh-cn</span><br></pre></td></tr></table></figure>
<h3 id="libreoffice"><a href="#libreoffice" class="headerlink" title="libreoffice"></a>libreoffice</h3><p><strong>fresh版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S libreoffice-fresh-zh-cn libreoffice-fresh</span><br></pre></td></tr></table></figure>
<p><strong>still版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S libreoffice-still-zh-cn libreoffice-still</span><br></pre></td></tr></table></figure>

<h1 id="配置蓝牙"><a href="#配置蓝牙" class="headerlink" title="配置蓝牙"></a>配置蓝牙</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S bluez bluez-utils bluez-obex bluedevil</span><br><span class="line">sudo systemctl enable bluetooth</span><br></pre></td></tr></table></figure>

<h1 id="电源管理方案"><a href="#电源管理方案" class="headerlink" title="电源管理方案"></a>电源管理方案</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S power-profiles-daemon</span><br></pre></td></tr></table></figure>

<h1 id="plymouth开机动画"><a href="#plymouth开机动画" class="headerlink" title="plymouth开机动画"></a>plymouth开机动画</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S plymouth</span><br><span class="line">sudo nano /etc/mkinitcpio.conf</span><br></pre></td></tr></table></figure>
<p><strong>HOOKS</strong>中 <strong>base udev</strong> 后添加plymouth <strong>(视情况)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo mkinitcpio -P</span><br></pre></td></tr></table></figure>
<p><strong>以下视情况</strong>，文件名不一定为arch.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo nano /boot/loader/entries/arch.conf</span><br></pre></td></tr></table></figure>
<p>将这些参数附加到选项行:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">splash quiet loglevel=3</span><br></pre></td></tr></table></figure>
<p><strong>例如</strong><br>options cryptdevice&#x3D;PARTUUID&#x3D;xxxxxxxxx:root root&#x3D;&#x2F;dev&#x2F;mapper&#x2F;root zswap.enabled&#x3D;0 rw rootfstype&#x3D;ext4 <strong>splash quiet loglevel&#x3D;3</strong></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客搭建备忘录</title>
    <url>/2025/02/22/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%A4%87%E5%BF%98%E5%BD%95/</url>
    <content><![CDATA[<p><strong>注：以下默认使用<a href="https://butterfly.js.org/">Butterfly主题</a></strong></p>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><p><strong>命令均需在博客根目录下执行</strong></p>
<h2 id="本地预览"><a href="#本地预览" class="headerlink" title="本地预览"></a>本地预览</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean&amp;&amp;hexo g&amp;&amp;hexo s</span><br></pre></td></tr></table></figure>
<h2 id="部署发布"><a href="#部署发布" class="headerlink" title="部署发布"></a>部署发布</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean&amp;&amp;hexo g&amp;&amp;hexo d</span><br></pre></td></tr></table></figure>
<h2 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new “标题”</span><br></pre></td></tr></table></figure>
<h2 id="更新主题"><a href="#更新主题" class="headerlink" title="更新主题"></a>更新主题</h2><p><strong>在主题相应目录下执行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>
<h2 id="查看已安装的Hexo插件"><a href="#查看已安装的Hexo插件" class="headerlink" title="查看已安装的Hexo插件"></a>查看已安装的Hexo插件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm ls --depth=0</span><br></pre></td></tr></table></figure>

<h1 id="易错点"><a href="#易错点" class="headerlink" title="易错点"></a>易错点</h1><h2 id="图片存放"><a href="#图片存放" class="headerlink" title="图片存放"></a>图片存放</h2><p>博客部署时图片应该存放至<br>&#x2F;Blog&#x2F;themes&#x2F;butterfly&#x2F;source&#x2F;img&#x2F;<br>才能<strong>正常应用新图片</strong></p>
<h2 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h2><p>Hexo 会自动合并主题中的 _config.yml 和 _config.butterfly.yml 里的配置，如果存在同名配置，会使用 _config.butterfly.yml 的配置，其优先度较高。升级完成后，到 Github 的 <a href="https://github.com/jerryc127/hexo-theme-butterfly/releases">Releases</a> 界面查看新版的更新内容。<br>里面有标注 _config 文件的变更内容（如有），需根据实际情况更新配置内容。</p>
<h2 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a>_config.yml</h2><h3 id="GitHub推送"><a href="#GitHub推送" class="headerlink" title="GitHub推送"></a>GitHub推送</h3><p>需在_config.yml结尾填写以下内容，<strong>注意缩进</strong><br><strong>使用SSH,需要本地有SSH私钥</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:Github用户名/GitHub用户名.github.io.git</span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure>
<h3 id="部分配置"><a href="#部分配置" class="headerlink" title="部分配置"></a>部分配置</h3><p>网站时区（timezone）、语言（language）、简介（description）、标题（title）、所有者（author）及指定主题（theme）需在此配置文件设定</p>
<h1 id="备忘"><a href="#备忘" class="headerlink" title="备忘"></a>备忘</h1><h2 id="安装的插件"><a href="#安装的插件" class="headerlink" title="安装的插件"></a>安装的插件</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo-site@0.0.0 /home/用户名/Blog</span><br><span class="line">├── hexo-deployer-git</span><br><span class="line">├── hexo-generator-archive</span><br><span class="line">├── hexo-generator-category</span><br><span class="line">├── hexo-generator-index</span><br><span class="line">├── hexo-generator-searchdb</span><br><span class="line">├── hexo-generator-tag</span><br><span class="line">├── hexo-renderer-ejs</span><br><span class="line">├── hexo-renderer-marked</span><br><span class="line">├── hexo-renderer-pug</span><br><span class="line">├── hexo-renderer-stylus</span><br><span class="line">├── hexo-server</span><br><span class="line">├── hexo-theme-landscape</span><br><span class="line">├── hexo-wordcount</span><br><span class="line">└── hexo</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>博客</tag>
      </tags>
  </entry>
  <entry>
    <title>Hyper OS 移植</title>
    <url>/2025/01/18/HyperOS%E7%A7%BB%E6%A4%8D/</url>
    <content><![CDATA[<h1 id="Hyper-移植"><a href="#Hyper-移植" class="headerlink" title="Hyper 移植"></a>Hyper 移植</h1><h2 id="系统"><a href="#系统" class="headerlink" title="系统"></a>系统</h2><p><em><strong>超级壁纸有无</strong></em><br><strong>是否为支持机型的MIWallpaperOverlay.apk</strong></p>
<h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><p><em><strong>设置启用小米澎湃AI</strong></em><br><strong>isAiSupported方法</strong><br><strong>改为0x1</strong><br><em><strong>启用小米青山护眼UI</strong></em><br><strong>isPaperModeCustomDevice方法</strong><br><strong>改为0x1</strong><br><em><strong>启用永不锁屏</strong></em><br><strong>KeyguardTimeoutListPreference类</strong><br><strong>ro.vendor.display.type</strong><br><strong>下面改为0x0</strong><br><em><strong>确认启用扬声器清理prop</strong></em><br><strong>设置搜索isSupportCleanSpeaker方法</strong><br><strong>查看方法内字符串</strong></p>
<h2 id="prop"><a href="#prop" class="headerlink" title="prop"></a>prop</h2><p><em><strong>小米预加载prop</strong></em><br><strong>系统启动时需要预启动的进程列表</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.prestart.proc</span><br></pre></td></tr></table></figure>
<p><strong>启用或禁用预加载机制，在系统启动时提前加载应用或服务</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.preload.enable</span><br></pre></td></tr></table></figure>
<p><strong>启用或禁用启动反馈机制，可能是与用户启动应用时的反馈相关</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.prestart.feedback.enable</span><br></pre></td></tr></table></figure>
<p><strong>启用或禁用预缓存机制，在启动时缓存某些数据或资源</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.precache.enable</span><br></pre></td></tr></table></figure>
<p><strong>启用或禁用应用程序 Dex 文件的预加载，提高应用启动速度</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">persist.sys.app_dexfile_preload.enable</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>安卓</category>
      </categories>
      <tags>
        <tag>HyperOS</tag>
        <tag>脚本</tag>
        <tag>安卓</tag>
      </tags>
  </entry>
  <entry>
    <title>小米相机修改</title>
    <url>/2025/08/27/%E5%B0%8F%E7%B1%B3%E7%9B%B8%E6%9C%BA%E4%BF%AE%E6%94%B9/</url>
    <content><![CDATA[<h1 id="相机"><a href="#相机" class="headerlink" title="相机"></a>相机</h1><p><em><strong>以下内容基于6.1版本相机</strong></em></p>
<h2 id="当前版本署名"><a href="#当前版本署名" class="headerlink" title="当前版本署名"></a>当前版本署名</h2><p>packageInfo().versionName字符串后<br>move-result-object v3后添加<br><strong>Base64编码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Ver:XXXXXXXX丨Mod:AetherPX</span><br></pre></td></tr></table></figure>
<p>Ver前回车，Ver后跟随日期年月日</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">new-instance v4, Ljava/lang/StringBuilder;</span><br><span class="line">invoke-direct &#123;v4&#125;, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V</span><br><span class="line">invoke-virtual &#123;v4, v3&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">const-string v5, &quot;编码内容&quot;</span><br><span class="line">const/4 v6, 0x0</span><br><span class="line">invoke-static &#123;v5, v6&#125;, Landroid/util/Base64;-&gt;decode(Ljava/lang/String;I)[B</span><br><span class="line">move-result-object v5</span><br><span class="line">new-instance v6, Ljava/lang/String;</span><br><span class="line">invoke-direct &#123;v6, v5&#125;, Ljava/lang/String;-&gt;&lt;init&gt;([B)V</span><br><span class="line">invoke-virtual &#123;v4, v6&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line">invoke-virtual &#123;v4&#125;, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;</span><br><span class="line">move-result-object v3</span><br></pre></td></tr></table></figure>

<h2 id="固定机型配置"><a href="#固定机型配置" class="headerlink" title="固定机型配置"></a>固定机型配置</h2><p>搜索字符串ro.debuggable<br>上方有sget-object v0, Landroid&#x2F;os&#x2F;Build;-&gt;DEVICE:Ljava&#x2F;lang&#x2F;String;的类中<br>在sget下行添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const-string v0, &quot;mondrian&quot;</span><br></pre></td></tr></table></figure>
<p>引号内为要固定的机型代号</p>
<p>跳过混淆<br>搜索()Latpcommon<br>atpcommon为底配置文件<br>跳转并增加一个寄存器，在第一个cond后添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sget-object v1, Landroid/os/Build;-&gt;DEVICE:Ljava/lang/String;</span><br><span class="line">:try_start_8</span><br><span class="line">invoke-static &#123;v1&#125;, Lse/c;-&gt;a(Ljava/lang/String;)Ljava/lang/Class;</span><br><span class="line">move-result-object v2</span><br><span class="line">invoke-virtual &#123;v2&#125;, Ljava/lang/Class;-&gt;newInstance()Ljava/lang/Object;</span><br><span class="line">move-result-object v2</span><br><span class="line">check-cast v2, Latpcommon;</span><br><span class="line">sput-object v2, Lot/c;-&gt;d:Latpcommon;</span><br><span class="line">sget-object v2, Ljava/lang/Boolean;-&gt;FALSE:Ljava/lang/Boolean;</span><br><span class="line">sput-object v2, Lot/c;-&gt;c:Ljava/lang/Boolean;</span><br><span class="line">sget-object v2, Lot/c;-&gt;d:Latpcommon;</span><br><span class="line">return-object v2</span><br><span class="line">:try_end_1b</span><br><span class="line">.catch Ljava/lang/ClassNotFoundException; &#123;:try_start_8 .. :try_end_1b&#125; :catch_1c</span><br><span class="line">.catch Ljava/lang/IllegalAccessException; &#123;:try_start_8 .. :try_end_1b&#125; :catch_1c</span><br><span class="line">.catch Ljava/lang/InstantiationException; &#123;:try_start_8 .. :try_end_1b&#125; :catch_1c</span><br><span class="line">:catch_1c</span><br></pre></td></tr></table></figure>

<h2 id="固定机型水印信息"><a href="#固定机型水印信息" class="headerlink" title="固定机型水印信息"></a>固定机型水印信息</h2><p>配置文件c()方法内<br>删除从const-string v2到<br>第一个含move-result-object v2的行<br>即仅删除前两个混淆了的内容<br>改成</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const-string/jumbo v2, &quot;REDMI&quot;</span><br><span class="line">const/4 v3, 0x0</span><br><span class="line">aput-object v2, v1, v3</span><br><span class="line">const-string v2, &quot;NOTE 12 TURBO&quot;</span><br></pre></td></tr></table></figure>

<h2 id="AI智能推荐"><a href="#AI智能推荐" class="headerlink" title="AI智能推荐"></a>AI智能推荐</h2><h3 id="AI文档建议"><a href="#AI文档建议" class="headerlink" title="AI文档建议"></a>AI文档建议</h3><p>文档建议仅禁用实时提取文本生效<br>搜索字符串<br>pref_camera_ai_detect_doc<br>doc观察cond跳转和条件判断</p>
<h3 id="识别二维码"><a href="#识别二维码" class="headerlink" title="识别二维码"></a>识别二维码</h3><p>pref_scan_qrcode_key</p>
<h3 id="超清模式相册智能构图"><a href="#超清模式相册智能构图" class="headerlink" title="超清模式相册智能构图"></a>超清模式相册智能构图</h3><p>pref_camera_crop_preferred_key<br>上方底配置文件调用</p>
<p>注:<br>cond跳转<br>if-eqz如果等于0则<br>if-nez如果不等于0则<br>if-lez如果小于等于0则</p>
<h2 id="解锁拍照超高质量"><a href="#解锁拍照超高质量" class="headerlink" title="解锁拍照超高质量"></a>解锁拍照超高质量</h2><p>arsc搜索超高并复制资源值，在dex搜索资源值<br>或搜索字符串getContext().resources.g…_jpegquality_entryvalues)<br>资源值上方&amp;字符串下方<br>invoke-virtual调用跳转返回0x1</p>
<h2 id="启用实验室选项"><a href="#启用实验室选项" class="headerlink" title="启用实验室选项"></a>启用实验室选项</h2><p>搜索camera.lab.options<br>改为0x1</p>
<h2 id="解锁4k60"><a href="#解锁4k60" class="headerlink" title="解锁4k60"></a>解锁4k60</h2><p>搜索<br>.method public static s(<br>类似.method public static s(IILz9&#x2F;d;)Z<br>寄存器后第一个0x0<br>改0x1 const&#x2F;4 p0, 0x1</p>
<h2 id="修复慢动作960-1920fps闪退"><a href="#修复慢动作960-1920fps闪退" class="headerlink" title="修复慢动作960&#x2F;1920fps闪退"></a>修复慢动作960&#x2F;1920fps闪退</h2><p>搜索清空<br>.method public static isHFR(Ljava&#x2F;lang&#x2F;String;)Z</p>
<h2 id="去除浏览器跳转"><a href="#去除浏览器跳转" class="headerlink" title="去除浏览器跳转"></a>去除浏览器跳转</h2><p>搜privacy.mi.com&#x2F;all<br>把:try_start行到:catch行删除</p>
<h2 id="视频提词器功能"><a href="#视频提词器功能" class="headerlink" title="视频提词器功能"></a>视频提词器功能</h2><p>搜索字符串pref_video_prompter_key<br>下方isSwitchOn方法<br>内invoke-virtual调用</p>
<h2 id="视频超级防抖"><a href="#视频超级防抖" class="headerlink" title="视频超级防抖"></a>视频超级防抖</h2><p>字符串super_eis<br>前方有const-string&#x2F;jumbo v2<br>上方invoke-static调用<br>再跳转第一个invoke-virtual调用<br>第一个底配置文件调用判断是否支持超级防抖<br>第二个底配置文件调用判断是否支持超级防抖PRO</p>
<h2 id="关闭主摄默认焦距入口"><a href="#关闭主摄默认焦距入口" class="headerlink" title="关闭主摄默认焦距入口"></a>关闭主摄默认焦距入口</h2><p>搜索字符串isSupportedSwitchZoomButton<br>ZoomRatioToggleView类<br>下方invoke-virtual的调用跳转返回0x0</p>
<h2 id="开启人像半身全身按钮"><a href="#开启人像半身全身按钮" class="headerlink" title="开启人像半身全身按钮"></a>开启人像半身全身按钮</h2><p>搜索字符串pref_ultra_wide_bokeh_enabled<br>位于ZoomRatioToggleView类<br>上方invoke-virtual的调用跳转返回0x1</p>
<h2 id="开启设置测光权重"><a href="#开启设置测光权重" class="headerlink" title="开启设置测光权重"></a>开启设置测光权重</h2><p>搜索字符串pref_metering_weight<br>CameraCapturePreferenceFragment类中<br>上方invoke-static {v2}调用返回0x1</p>
<h2 id="添加悬浮快门键拍照"><a href="#添加悬浮快门键拍照" class="headerlink" title="添加悬浮快门键拍照"></a>添加悬浮快门键拍照</h2><p>搜索字符串pref_suspend_shutter_button<br>CaptureMethodFragment类中<br>上方invoke-virtual的调用跳转返回0x1</p>
<h2 id="开启运动抓拍按钮"><a href="#开启运动抓拍按钮" class="headerlink" title="开启运动抓拍按钮"></a>开启运动抓拍按钮</h2><p>搜索字符串pref_camera_ai_shutter_key<br>CameraCapturePreferenceFragment类中<br>上方invoke-virtual的调用跳转返回0x1</p>
<h2 id="专业模式RAW开关"><a href="#专业模式RAW开关" class="headerlink" title="专业模式RAW开关"></a>专业模式RAW开关</h2><p>dex反编译搜索ProModuleEntry类<br>getModeUI方法invoke-direct跳转<br>跳转后搜索getRawItemBuilder<br>上方invoke-static处跳转<br>support方法invoke-virtual调用</p>
<h2 id="部分功能类名"><a href="#部分功能类名" class="headerlink" title="部分功能类名"></a>部分功能类名</h2><h3 id="多机互联"><a href="#多机互联" class="headerlink" title="多机互联"></a>多机互联</h3><p>CinemasterModuleEntry类</p>
<h3 id="电影模式"><a href="#电影模式" class="headerlink" title="电影模式"></a>电影模式</h3><p>CinematicModuleEntry类</p>
<h3 id="超清模式"><a href="#超清模式" class="headerlink" title="超清模式"></a>超清模式</h3><p>PixelModuleEntry类</p>
<h3 id="帮拍"><a href="#帮拍" class="headerlink" title="帮拍"></a>帮拍</h3><p>FriendModuleEntry</p>
<h2 id="相机隐私政策"><a href="#相机隐私政策" class="headerlink" title="相机隐私政策"></a>相机隐私政策</h2><p>靠上行<br><a href="https://privacy.mi.com/all/%s_%s">https://privacy.mi.com/all/%s_%s</a><br>靠下行<br><a href="https://privacy.mi.com/all/">https://privacy.mi.com/all/</a></p>
<h2 id="徕卡相关"><a href="#徕卡相关" class="headerlink" title="徕卡相关"></a>徕卡相关</h2><h3 id="徕卡界面"><a href="#徕卡界面" class="headerlink" title="徕卡界面"></a>徕卡界面</h3><p>WatermarkTypePreference类<br>watermark_film和watermark_leica字符串的方法内<br>invoke-virtual调用<br>0x0徕卡<br>0x3胶片</p>
<h3 id="解锁更多快门声音"><a href="#解锁更多快门声音" class="headerlink" title="解锁更多快门声音"></a>解锁更多快门声音</h3><p>需徕卡界面为前置条件<br>搜索字符串pref_custom_sound_tips_key<br>下方invoke-virtual的调用跳转返回0x1</p>
]]></content>
      <categories>
        <category>反编译</category>
      </categories>
      <tags>
        <tag>HyperOS</tag>
        <tag>安卓</tag>
        <tag>相机</tag>
        <tag>反编译</tag>
      </tags>
  </entry>
</search>
